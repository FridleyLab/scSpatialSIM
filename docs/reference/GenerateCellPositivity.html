<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generate Cell Positivity — GenerateCellPositivity • scSpatialSIM</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate Cell Positivity — GenerateCellPositivity"><meta name="description" content="Generate the probability of a cell being positive given a set of simulation parameters for each file in a SpatSimObj."><meta property="og:description" content="Generate the probability of a cell being positive given a set of simulation parameters for each file in a SpatSimObj."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">scSpatialSIM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.3.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/a01_Introduction.html">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/a02_Using_with_spatialTIME.html">Using with spatialTIME</a></li>
    <li><a class="dropdown-item" href="../articles/a03_CellAttributes.html">Adding Continuous Cell Attributes</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/FridleyLab/scSpatialSIM/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Generate Cell Positivity</h1>
      <small class="dont-index">Source: <a href="https://github.com/FridleyLab/scSpatialSIM/blob/HEAD/R/create_cells.R" class="external-link"><code>R/create_cells.R</code></a></small>
      <div class="d-none name"><code>GenerateCellPositivity.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Generate the probability of a cell being positive given a set of simulation parameters for each file in a SpatSimObj.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">GenerateCellPositivity</span><span class="op">(</span></span>
<span>  <span class="va">sim_object</span>,</span>
<span>  k <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  xmin <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  xmax <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  ymin <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  ymax <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  sdmin <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">2</span>,</span>
<span>  sdmax <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  Force <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  density_heatmap <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  step_size <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  cores <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  shift <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  random <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  use_window <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  no_kernel <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-sim-object">sim_object<a class="anchor" aria-label="anchor" href="#arg-sim-object"></a></dt>
<dd><p>A <code>SpatSimObj</code> object containing the simulated data.</p></dd>


<dt id="arg-k">k<a class="anchor" aria-label="anchor" href="#arg-k"></a></dt>
<dd><p>An integer specifying the number of clusters for each simulated patterns</p></dd>


<dt id="arg-xmin">xmin<a class="anchor" aria-label="anchor" href="#arg-xmin"></a></dt>
<dd><p>A numeric value specifying the minimum x value for the kernel.</p></dd>


<dt id="arg-xmax">xmax<a class="anchor" aria-label="anchor" href="#arg-xmax"></a></dt>
<dd><p>A numeric value specifying the maximum x value for the kernel.</p></dd>


<dt id="arg-ymin">ymin<a class="anchor" aria-label="anchor" href="#arg-ymin"></a></dt>
<dd><p>A numeric value specifying the minimum y value for the kernel.</p></dd>


<dt id="arg-ymax">ymax<a class="anchor" aria-label="anchor" href="#arg-ymax"></a></dt>
<dd><p>A numeric value specifying the maximum y value for the kernel.</p></dd>


<dt id="arg-sdmin">sdmin<a class="anchor" aria-label="anchor" href="#arg-sdmin"></a></dt>
<dd><p>A numeric value specifying the minimum standard deviation for the kernel.</p></dd>


<dt id="arg-sdmax">sdmax<a class="anchor" aria-label="anchor" href="#arg-sdmax"></a></dt>
<dd><p>A numeric value specifying the maximum standard deviation for the kernel.</p></dd>


<dt id="arg-probs">probs<a class="anchor" aria-label="anchor" href="#arg-probs"></a></dt>
<dd><p>Either a vector of c(low probability, high probability) for all cell types or data frame where each row
is the low and high probabilities for the cell type. If data frame, number of rows must equal number of cells</p></dd>


<dt id="arg-force">Force<a class="anchor" aria-label="anchor" href="#arg-force"></a></dt>
<dd><p>A logical value indicating whether to force simulation parameters to be within the simulation window limits.</p></dd>


<dt id="arg-density-heatmap">density_heatmap<a class="anchor" aria-label="anchor" href="#arg-density-heatmap"></a></dt>
<dd><p>A logical value indicating whether to compute a density heatmap for each cell.</p></dd>


<dt id="arg-step-size">step_size<a class="anchor" aria-label="anchor" href="#arg-step-size"></a></dt>
<dd><p>A numeric value specifying the step size for the grid of points within the window.</p></dd>


<dt id="arg-cores">cores<a class="anchor" aria-label="anchor" href="#arg-cores"></a></dt>
<dd><p>An integer value specifying the number of cores to use for parallel computation.</p></dd>


<dt id="arg-shift">shift<a class="anchor" aria-label="anchor" href="#arg-shift"></a></dt>
<dd><p>A value between 0 and 1 for how related a second or more cell type is to the first</p></dd>


<dt id="arg-random">random<a class="anchor" aria-label="anchor" href="#arg-random"></a></dt>
<dd><p>whether or not to randomly generate kernels for cells 2 or more, uf TRUE, shift is not used</p></dd>


<dt id="arg-overwrite">overwrite<a class="anchor" aria-label="anchor" href="#arg-overwrite"></a></dt>
<dd><p>boolean whether to overwrite existing cell kernels and assignments if present</p></dd>


<dt id="arg-use-window">use_window<a class="anchor" aria-label="anchor" href="#arg-use-window"></a></dt>
<dd><p>boolean whether to use the simulation window to set x and y limits</p></dd>


<dt id="arg-no-kernel">no_kernel<a class="anchor" aria-label="anchor" href="#arg-no-kernel"></a></dt>
<dd><p>boolean whether to create kernels or to randomly assign points positive based on <code>probs</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns the original <code>scSpatialSIM</code> object with additional generated data added to each cell object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function generates the probability of a cell being positive given a set of simulation parameters f
or each file in a <code>scSpatialSIM</code> object. It creates a kernel parameter list for <code>k</code> clusters
in each simulated pattern and computes the probability of each point in the grid of points within the
window for each cell. The function also computes a density heatmap for each cell if <code>density_heatmap</code> is set to <code>TRUE</code>.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Alex Soupir, Christopher Wilson, Jordan Creed, Julia Wrobel, Oscar Ospina, Brooke Fridley, Fridley Lab.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

